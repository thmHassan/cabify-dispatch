import React from "react";

const History = ({ user, historyData = [], onClose }) => {
    return (
        <div className="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50">
            <div className="w-[420px] bg-white rounded-2xl p-6 max-h-[85vh] overflow-y-auto relative">

                <button
                    onClick={onClose}
                    className="absolute top-3 right-4 text-gray-500 text-lg"
                >
                    âœ•
                </button>

                <h2 className="text-center text-lg font-semibold">
                    History
                </h2>

                <div className="flex justify-center border-t border-[#EAEAEA]">
                    <div className="w-[64px] h-[64px] mt-4 rounded-full bg-gray-200 flex items-center justify-center">
                        <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6.7375 26.425C8.225 25.2875 9.8875 24.3906 11.725 23.7344C13.5625 23.0781 15.4875 22.75 17.5 22.75C19.5125 22.75 21.4375 23.0781 23.275 23.7344C25.1125 24.3906 26.775 25.2875 28.2625 26.425C29.2833 25.2292 30.0781 23.8729 30.6469 22.3562C31.2156 20.8396 31.5 19.2208 31.5 17.5C31.5 13.6208 30.1365 10.3177 27.4094 7.59062C24.6823 4.86354 21.3792 3.5 17.5 3.5C13.6208 3.5 10.3177 4.86354 7.59062 7.59062C4.86354 10.3177 3.5 13.6208 3.5 17.5C3.5 19.2208 3.78437 20.8396 4.35313 22.3562C4.92188 23.8729 5.71667 25.2292 6.7375 26.425ZM17.5 19.25C15.7792 19.25 14.3281 18.6594 13.1469 17.4781C11.9656 16.2969 11.375 14.8458 11.375 13.125C11.375 11.4042 11.9656 9.95312 13.1469 8.77187C14.3281 7.59062 15.7792 7 17.5 7C19.2208 7 20.6719 7.59062 21.8531 8.77187C23.0344 9.95312 23.625 11.4042 23.625 13.125C23.625 14.8458 23.0344 16.2969 21.8531 17.4781C20.6719 18.6594 19.2208 19.25 17.5 19.25ZM17.5 35C15.0792 35 12.8042 34.5406 10.675 33.6219C8.54583 32.7031 6.69375 31.4562 5.11875 29.8813C3.54375 28.3062 2.29688 26.4542 1.37812 24.325C0.459375 22.1958 0 19.9208 0 17.5C0 15.0792 0.459375 12.8042 1.37812 10.675C2.29688 8.54583 3.54375 6.69375 5.11875 5.11875C6.69375 3.54375 8.54583 2.29688 10.675 1.37812C12.8042 0.459375 15.0792 0 17.5 0C19.9208 0 22.1958 0.459375 24.325 1.37812C26.4542 2.29688 28.3062 3.54375 29.8813 5.11875C31.4562 6.69375 32.7031 8.54583 33.6219 10.675C34.5406 12.8042 35 15.0792 35 17.5C35 19.9208 34.5406 22.1958 33.6219 24.325C32.7031 26.4542 31.4562 28.3062 29.8813 29.8813C28.3062 31.4562 26.4542 32.7031 24.325 33.6219C22.1958 34.5406 19.9208 35 17.5 35ZM17.5 31.5C19.0458 31.5 20.5042 31.274 21.875 30.8219C23.2458 30.3698 24.5 29.7208 25.6375 28.875C24.5 28.0292 23.2458 27.3802 21.875 26.9281C20.5042 26.476 19.0458 26.25 17.5 26.25C15.9542 26.25 14.4958 26.476 13.125 26.9281C11.7542 27.3802 10.5 28.0292 9.3625 28.875C10.5 29.7208 11.7542 30.3698 13.125 30.8219C14.4958 31.274 15.9542 31.5 17.5 31.5ZM17.5 15.75C18.2583 15.75 18.8854 15.5021 19.3813 15.0062C19.8771 14.5104 20.125 13.8833 20.125 13.125C20.125 12.3667 19.8771 11.7396 19.3813 11.2437C18.8854 10.7479 18.2583 10.5 17.5 10.5C16.7417 10.5 16.1146 10.7479 15.6187 11.2437C15.1229 11.7396 14.875 12.3667 14.875 13.125C14.875 13.8833 15.1229 14.5104 15.6187 15.0062C16.1146 15.5021 16.7417 15.75 17.5 15.75Z" fill="#6C6C6C" />
                        </svg>
                    </div>
                </div>

                <p className="text-center text-xl font-semibold mt-2">
                    {user?.phone_no}
                </p>

                <div className="mt-4 space-y-3">
                    {historyData.length === 0 && (
                        <p className="text-center text-gray-400">
                            No history found
                        </p>
                    )}

                    {historyData.map((item, index) => (
                        <div
                            key={index}
                            className="bg-[#F4F3FF] rounded-xl px-4 py-3"
                        >
                            <p className="text-xs text-[#25252599] mb-1">
                                {item.date}
                            </p>

                            <p className="text-[15px]">
                                <span>From</span> - {item.from}
                            </p>

                            <p className="text-[15px] mt-1">
                                <span>To</span> - {item.to}
                            </p>
                        </div>
                    ))}
                </div>
            </div>
        </div>
    );
};

export default History;